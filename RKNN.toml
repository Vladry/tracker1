[detector]
# Включает детектор движения. В текущем ручном режиме отслеживания не используется.
use_motion = false

# Включает использование RKNN-детектора. Значение true пытается загрузить модель и использовать NPU. Значение false отключает детекцию, оставляя только трекер. Полезно для тестов производительности и UI без инференса. Если включено, при ошибке загрузки детектор отключится автоматически.
use_rknn = true

# Путь к файлу модели RKNN. Путь может быть относительным или абсолютным, и считается от рабочей директории запуска. Если файл не найден, загрузка конфигурации завершится ошибкой. Убедитесь, что модель скопирована рядом с бинарником или укажите полный путь. Для нескольких моделей меняйте только этот параметр.
rknn_model_path = "models/yolov8n_fp16.rknn"

# Коэффициент масштабирования входного изображения. Значение 1/255 нормализует вход в диапазон 0..1. Если модель ожидает другое масштабирование, меняйте этот параметр. При неверном масштабе точность сильно ухудшается. Используйте значение из пайплайна обучения модели.
rknn_scale = 0.0039215686

# Переключает порядок каналов BGR↔RGB. Включайте true, если модель обучалась на RGB. Оставляйте false, если модель ожидает BGR. Неверный порядок каналов приводит к отсутствию детекций. Проверьте порядок в вашем конвертере RKNN.
rknn_swap_rb = true

# Порог уверенности детекции. Чем ниже значение, тем больше ложных срабатываний. Чем выше значение, тем меньше пропусков, но больше «тишины». Для ночных сцен часто требуется уменьшение порога. Начните с 0.15–0.25 и подберите под свою камеру.
rknn_conf_threshold = 0.05

# Порог NMS для подавления перекрывающихся боксов. Меньшее значение сильнее объединяет боксы. Большее значение допускает больше боксов на один объект. Для плотных сцен увеличивайте, для шума уменьшайте. Параметр влияет на стабильность трекинга.
rknn_nms_threshold = 0.45

# Фильтр по классу. Значение -1 принимает все классы модели. Укажите индекс класса, если нужен только один тип объекта. Индексы соответствуют порядку классов в обучении модели. Неправильный индекс приведёт к отсутствию детекций. Используйте -1 для первичной диагностики.
rknn_class_id = -1
