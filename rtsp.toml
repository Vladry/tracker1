[rtsp]
# URL RTSP-потока. Ошибка в адресе приведёт к отсутствию видео. Чем стабильнее адрес, тем меньше неожиданных разрывов. Длинный URL не влияет на производительность, но усложняет отладку. Проверяйте доступность потока в стороннем плеере.
url = "rtsp://192.168.144.25:8554/main.264"

# Протоколы rtspsrc: 1=UDP, 4=TCP. UDP даёт меньшую задержку, но больше потерь. TCP надёжнее, но может давать большую задержку. Для нестабильной сети используйте TCP. Для минимальной задержки используйте UDP.
protocols = 1

# latency (мс) для rtspsrc. Большее значение сглаживает джиттер. Меньшее значение уменьшает задержку. Слишком малое значение может давать рывки. Подбирайте под качество сети.
latency_ms = 0

# Таймаут ожидания данных (мкс). Большое значение терпимее к сетевым задержкам. Малое значение быстрее обнаруживает проблемы. Для нестабильной сети увеличивайте. Для быстрого детекта разрывов уменьшайте.
timeout_us = 2000000

# Таймаут TCP (мкс). Большое значение снижает ложные рестарты. Малое значение ускоряет реакцию на проблемы. На шумных сетях увеличивайте. В стабильных сетях можно уменьшить.
tcp_timeout_us = 2000000

# Включение подробных логов RTSP-воркера. true выводит больше диагностических сообщений. false уменьшает шум в консоли. Для отладки включайте. Для продакшена оставляйте false.
verbose = false

[rtsp.watchdog]
# Таймаут отсутствия кадров (мс). Большое значение уменьшает ложные рестарты. Малое значение ускоряет восстановление. Для нестабильных камер увеличивайте. Для чувствительного мониторинга уменьшайте.
no_frame_timeout_ms = 1500

# Минимальная пауза между рестартами (мс). Большое значение защищает от «дребезга». Малое значение ускоряет восстановление. При частых перезапусках увеличьте. При долгих зависаниях уменьшите.
restart_cooldown_ms = 1000

# Стартовая «льгоа» после запуска (мс). Большое значение уменьшает ложные тревоги при старте. Малое значение ускоряет первый рестарт. При медленном старте системы увеличьте. При быстром старте можно уменьшить.
startup_grace_ms = 3000
