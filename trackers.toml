[tracker]

[manual_tracker]
# Максимальное количество одновременно отслеживаемых целей.
max_targets = 5

# Дополнительные пиксели, добавляемые к найденному ROI при клике.
click_padding = 6


# Размер квадратного бокса, если flood fill не нашёл явный объект.
fallback_box_size = 20

# Максимально допустимая доля площади кадра для ROI (0..1).
max_area_ratio = 0.01

# Порог разницы яркости для поиска движения (0..255).
motion_diff_threshold = 15

# Радиус поиска статической цели вокруг клика (пиксели).
click_search_radius = 20

# Размер квадратной области вокруг клика для анализа движения (пиксели).
click_capture_size = 80

# Количество последующих кадров для анализа движения пикселей.
motion_frames = 3

# Дополнительное расширение bbox при инициализации трекера.
tracker_init_padding = 2

# Минимальный размер bbox для инициализации трекера.
tracker_min_size = 14

# Минимальная амплитуда движения (пиксели) для отбора точек.
motion_min_magnitude = 0.2

# Допуск по направлению движения (градусы).
motion_angle_tolerance_deg = 20.0

# Допуск по модулю смещения (пиксели).
motion_mag_tolerance_px = 3.0

# Минимальная доля движущихся пикселей в bbox для подтверждения трекинга.
tracker_motion_min_ratio = 0.02

# Количество кадров, прежде чем считать bbox потерянным по малому движению.
tracker_motion_grace_frames = 3

# Время жизни bbox после потери (мс).
lost_bbox_ttl_ms = 1000

# Максимальная дистанция для fallback-пере-захвата (приоритет 3).
reacquire_fallback_max_distance_px = 1300

# Радиус ожидания (Калман) для пере-захвата по движению.
reacquire_kalman_radius_px = 120

# Радиус поиска ближайших движущихся целей после ожидания.
reacquire_near_radius_px = 200

# Использовать Калман для предсказания позиции.
use_kalman = false

# Выравнивать контраст в области клика перед flood fill.
click_equalize = true

# Заливать область flood fill красным с прозрачностью 0.7.
floodfill_fill_overlay = true

# Через сколько секунд убрать красную область выделенного объекта.
overlay_ttl_seconds = 3

# Допуски flood fill по яркости.
floodfill_lo_diff = 20
floodfill_hi_diff = 20

# Минимальный размер ROI для принятия.
min_area = 20
min_width = 6
min_height = 6

# Радиус поиска при попытке повторного захвата по шаблону. (было 60)
search_radius = 1300

# Порог совпадения шаблона (0..1) для успешного ре-захвата.
match_threshold = 0.7

# Обновлять шаблон при успешном трекинге.
update_template = true

# Максимальное время (мс) удержания цели при пропаже.
max_lost_ms = 2000

# Автоматически переназначать цель на ближайший трек, если она потеряна.
auto_reacquire_nearest = true

# Задержка (мс) до переназначения потерянной цели.
reacquire_delay_ms = 100

# Максимальное время (мс) для поиска нового кандидата после потери цели.
candidate_search_timeout_ms = 1000

# Максимальная дистанция (пиксели) до ближайшей цели для переназначения.
reacquire_max_distance_px = 320

# Тип трекера для ручного режима: KCF, CSRT.
tracker_type = "KCF"

# Параметры фильтра Калмана.
kalman_process_noise = 0.01
kalman_measurement_noise = 0.1
